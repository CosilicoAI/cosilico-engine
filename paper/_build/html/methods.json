{"version":3,"kind":"Article","sha256":"94c803f8e1dd28feb3e6227d76bbed910dd0955e3f1766cff748fdc958bd3596","slug":"methods","location":"/methods.md","dependencies":[],"frontmatter":{"title":"Methods","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Cosilico AI","given":"Cosilico","family":"AI"},"name":"Cosilico AI","url":"https://cosilico.ai","id":"contributors-myst-generated-uid-0"}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/CosilicoAI/cosilico-engine","numbering":{"title":{"offset":1}},"source_url":"https://github.com/CosilicoAI/cosilico-engine/blob/main/paper/methods.md","edit_url":"https://github.com/CosilicoAI/cosilico-engine/edit/main/paper/methods.md","exports":[{"format":"md","filename":"methods.md","url":"/build/methods-c39b12d3d4cd2ece06d6209b103e826d.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"System Architecture","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P1lw7hu3vQ"}],"identifier":"system-architecture","label":"System Architecture","html_id":"system-architecture","implicit":true,"key":"QhsCGcHOZ8"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Our system comprises five components:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jdzezBAavY"}],"key":"J4K8sohY9G"},{"type":"code","lang":"","value":"┌─────────────┐     ┌─────────────┐     ┌─────────────┐\n│   Statute   │────▶│   Claude    │────▶│  Generated  │\n│    Text     │     │   Agent     │     │    Code     │\n└─────────────┘     └──────┬──────┘     └──────┬──────┘\n                           │                    │\n                           │    ┌───────────────┘\n                           │    │\n                    ┌──────▼────▼──────┐\n                    │     Executor     │\n                    │   (DSL Parser)   │\n                    └────────┬─────────┘\n                             │\n                    ┌────────▼─────────┐\n                    │   Test Cases     │\n                    │  (from Oracles)  │\n                    └────────┬─────────┘\n                             │\n                    ┌────────▼─────────┐\n                    │     Scorer       │\n                    │  (Accuracy, MAE) │\n                    └────────┬─────────┘\n                             │\n                    ┌────────▼─────────┐\n                    │    Diagnoser     │──────▶ Feedback to Agent\n                    │ (Failure Analysis)│\n                    └──────────────────┘","position":{"start":{"line":7,"column":1},"end":{"line":34,"column":1}},"key":"lRMWBfGXVi"},{"type":"heading","depth":3,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Claude Agent","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"KfN2ODEDMQ"}],"identifier":"claude-agent","label":"Claude Agent","html_id":"claude-agent","implicit":true,"key":"QCbf6zezYW"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"We use Claude Sonnet 4 with tool use. The agent has access to two tools:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"pbkqzhlmtX"}],"key":"q97hjl1IOB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"execute_dsl","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"dzhpLmQphU"}],"key":"mrEK87ct6f"},{"type":"text","value":": Runs generated code against test cases, returns accuracy and failure details","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"FqO7FHbfB4"}],"key":"BipqP5FuQb"}],"key":"QFd0CHNOyg"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"submit_final_code","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"onrtvXZMuJ"}],"key":"Wk44givUit"},{"type":"text","value":": Signals completion with final implementation","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"jQLpUVNWrh"}],"key":"ONrApy5Rrp"}],"key":"Rvywza6cyz"}],"key":"R5qkqCEDuq"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"The system prompt provides:","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"MpXTBRhwIB"}],"key":"uSBhvWT3JA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"DSL specification (entity types, formula syntax, reference format)","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"RiFslbeP2I"}],"key":"Y0p0xKgcOp"}],"key":"vIcVpFCmf6"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Available parameters (rates, thresholds from IRS publications)","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"MMNVa0ebnB"}],"key":"pU9nX4gupd"}],"key":"UcfAqA5T0v"},{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Instructions for iteration","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"EABHso1LQ2"}],"key":"sAtVTtSPDF"}],"key":"zLw0vc5yCH"}],"key":"MGVlSH7GKA"},{"type":"heading","depth":3,"position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"Domain-Specific Language","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"rLGzBR33AY"}],"identifier":"domain-specific-language","label":"Domain-Specific Language","html_id":"domain-specific-language","implicit":true,"key":"XTyRQpUg2S"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Our Cosilico DSL captures:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"u57xnh4CuQ"}],"key":"CARsu4lHBz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"Variables","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"VoNloq2Zao"}],"key":"SbBRdD37Iw"},{"type":"text","value":": Named calculations with entity scope (Person, TaxUnit, Household)","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"km0eI3Ax9V"}],"key":"KRdYXffUmp"}],"key":"eDv681KDXH"},{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"Formulas","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"osE9AwxL1M"}],"key":"G1YCT8y3PX"},{"type":"text","value":": Arithmetic expressions with conditionals and functions","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"OcGjTnZJyG"}],"key":"KGM6J2SRMb"}],"key":"Dv5UmZNtUZ"},{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"zBValEwtg8"}],"key":"AfQYJNogVb"},{"type":"text","value":": Pointers to other variables and parameters","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"gnHriMdp57"}],"key":"qy69zyQXwD"}],"key":"oVQAw8iMvp"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"Citations","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"qjEp7N4pBK"}],"key":"jbpvJXgK5v"},{"type":"text","value":": Links to statutory sections","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"qmmsOVJIII"}],"key":"MjU237Tryt"}],"key":"mMbtNDckD1"}],"key":"B44sJq0fsE"},{"type":"paragraph","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"Example:","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"DllyVQ1pnp"}],"key":"GG9kziZrFy"},{"type":"code","lang":"","value":"variable eitc_phase_in_credit:\n  entity: TaxUnit\n  period: Year\n  dtype: Money\n  citation: \"26 USC § 32(a)(1)\"\n\n  references:\n    earned_income: us/irs/income/earned_income\n    phase_in_rate: param.irs.eitc.phase_in_rate\n\n  formula:\n    min(earned_income, earned_income_amount) * phase_in_rate","position":{"start":{"line":57,"column":1},"end":{"line":70,"column":1}},"key":"qgKDOsXgRV"},{"type":"heading","depth":3,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Oracles (Blackbox Only)","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"KiARIRkuei"}],"identifier":"oracles-blackbox-only","label":"Oracles (Blackbox Only)","html_id":"oracles-blackbox-only","implicit":true,"key":"ra08kdL7VR"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Critically, the agent has ","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"VLHXcqvEwt"},{"type":"strong","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"no access to oracle source code","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"FQvz5UAeee"}],"key":"Vn2MTQX8XM"},{"type":"text","value":"—only output comparisons. This prevents trivial copying and ensures the agent must learn statutory logic from the text itself.","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"moZPetvVta"}],"key":"XwiSpAtxE3"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"strong","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"PolicyEngine-US","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"mV8xXW1UlQ"}],"key":"DOcNwsPZEl"},{"type":"text","value":" serves as primary oracle:","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"pZgQD2kKsA"}],"key":"AJaw9GI1kF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":77,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Comprehensive federal tax implementation","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"tzsThMEshL"}],"key":"A1blQPLrKC"}],"key":"RVtcsHU7sg"},{"type":"listItem","spread":true,"position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Validated against IRS examples","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"v06YMRoMhI"}],"key":"UGglzTw0Ak"}],"key":"lkfJXr3Tm1"},{"type":"listItem","spread":true,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"API access for automated testing","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"qWnGXAf9qn"}],"key":"xQn55jvW16"}],"key":"wsyUq9Fhsd"},{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Agent sees only: (input, expected_output) pairs","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"NWHyYz3tyG"}],"key":"zxhT2974Jq"}],"key":"WDwYDc0kkO"}],"key":"y2XcPlpdCR"},{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"strong","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"TAXSIM","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"IJRjuVubDe"}],"key":"YbK3yHfg3a"},{"type":"text","value":" (NBER) provides secondary validation:","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"H2CeS4sEEM"}],"key":"qyB7ACB5Fe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":83,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Independent implementation","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"V48LGNwDmu"}],"key":"ocfbDJlPIq"}],"key":"MArgFDcIam"},{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Flags disagreements for investigation","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"j15HbqyuMf"}],"key":"adI2vQt1Hi"}],"key":"wUsqNXlRob"},{"type":"listItem","spread":true,"position":{"start":{"line":85,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Cross-oracle agreement increases confidence","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"wjRCztnqwl"}],"key":"p7WsGhSTiq"}],"key":"GesG4FgdQe"}],"key":"KazwxzTsGo"},{"type":"heading","depth":3,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Hard Constraints vs. Soft Rewards","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"MzoJsDncme"}],"identifier":"hard-constraints-vs-soft-rewards","label":"Hard Constraints vs. Soft Rewards","html_id":"hard-constraints-vs-soft-rewards","implicit":true,"key":"zV9bHLJv4c"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"We distinguish between ","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"N0PXr40Y3M"},{"type":"strong","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"hard constraints","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"uOgVZgYGCB"}],"key":"pET0unCpjI"},{"type":"text","value":" (binary pass/fail) and ","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"y5LvtCa644"},{"type":"strong","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"soft rewards","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"NQdeA2Bjl0"}],"key":"r3G0Hi8PSG"},{"type":"text","value":" (continuous optimization targets):","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"uN6ulXCish"}],"key":"IGBBmzEpyx"},{"type":"paragraph","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"strong","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"Hard Constraints","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"D7sgD5h2V1"}],"key":"UsXIwmY0WV"},{"type":"text","value":" (must pass, not in reward function):","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"NgxGuj4iz5"}],"key":"oqWnYikYaE"},{"type":"table","position":{"start":{"line":92,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Constraint","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"YIQiU90LgV"}],"key":"FVTc0DLLWQ"},{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Enforcement","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"ploABnnZfK"}],"key":"YuSuNV4vqM"},{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Rationale","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"fOUNY1jnes"}],"key":"CswvK6Vncx"}],"key":"Cfs879z9eJ"},{"type":"tableRow","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"No hardcoded values","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"TuXAsYmuPk"}],"key":"lac8Rz6PqX"},{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"CI linter: only 0, 1, -1 allowed in formulas","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"hCTCOnZIC8"}],"key":"g8wR2z8AKw"},{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Forces parameterization","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Qzh8Yi86LJ"}],"key":"sJbBcM01Lg"}],"key":"cA2cS1h9Ms"},{"type":"tableRow","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Inline tests pass","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"bBE9PgYSpo"}],"key":"dXM97mUPF1"},{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"DSL executor validates","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"reMblsbM8n"}],"key":"GKDOXriMT4"},{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Catches syntax and basic logic errors","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"ctynq5X4AX"}],"key":"U5J4B6c3WX"}],"key":"RMFLsBse1j"},{"type":"tableRow","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Valid DSL syntax","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"aMIOKgFKuo"}],"key":"ZMwXVclmoM"},{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Parser rejects invalid code","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"MzuxzQnGP0"}],"key":"juiHQTUZyS"},{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Agent must produce parseable output","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"gygS89X3hd"}],"key":"p49xDx5iQb"}],"key":"sA4KbtjQt3"},{"type":"tableRow","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Entity/period consistency","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"rJQjukx1FT"}],"key":"OvHmiZXPFQ"},{"type":"tableCell","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Type checker","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"fkqVgIs7r3"}],"key":"kZRGn8M4ZK"},{"type":"tableCell","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Prevents dimensional errors","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"lAHAeebeLi"}],"key":"iYGVGNLg3z"}],"key":"Cw1naymBX4"}],"key":"uDWB8YbJox"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"strong","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Soft Rewards","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"KlesKoU8RH"}],"key":"qcV7A5KRie"},{"type":"text","value":" (continuous, optimized via RL):","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"pk0kNVBtgn"}],"key":"KhdJvFn6he"},{"type":"table","position":{"start":{"line":100,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Reward Component","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"fcFBKtMOxL"}],"key":"F86Q9Qn7ES"},{"type":"tableCell","header":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Weight","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"aqTvzc2wxm"}],"key":"zAizr73MPG"},{"type":"tableCell","header":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Metric","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"qdtuybWiMB"}],"key":"MSyqblDANg"}],"key":"x6PtnmMb7K"},{"type":"tableRow","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Oracle alignment","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"HJivPk5BG7"}],"key":"P2vQga1d37"},{"type":"tableCell","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"0.60","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"aGm6h1ycRV"}],"key":"pzM7al34cP"},{"type":"tableCell","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"1 - MAE/max_value across test cases","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"sVY1i8gYa9"}],"key":"h9SCX1rPxd"}],"key":"zW3ZciDfc4"},{"type":"tableRow","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Token efficiency","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"KU9gpreOpx"}],"key":"YBhBTFKcnx"},{"type":"tableCell","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"0.15","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"MR5QVUwOMH"}],"key":"WiXYbvFY9r"},{"type":"tableCell","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"1 - (tokens_used / max_tokens)","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"yPah19mMFa"}],"key":"hDi5y8Dr4m"}],"key":"ZO80yZrii4"},{"type":"tableRow","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Performance","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"hEhfep0iYs"}],"key":"kJ0iQEmlR5"},{"type":"tableCell","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"0.15","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"wPJhH39W6U"}],"key":"E9JBJvpXMC"},{"type":"tableCell","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Log-scale execution time (vectorized)","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"CfwuL79GyZ"}],"key":"JHEnBFR63A"}],"key":"WgRLKEAD6Y"},{"type":"tableRow","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"Generalization","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"BRSHz5NV9J"}],"key":"u6AFJCChXQ"},{"type":"tableCell","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"0.10","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"mfQQmLF2jh"}],"key":"JiMsKQb4Nk"},{"type":"tableCell","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"Holdout accuracy on unseen cases","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"UNwk3dZelM"}],"key":"nqdFdjAsFA"}],"key":"l1SKXQYHDN"}],"key":"DV6plBETBU"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Token efficiency rewards concise encodings and fast convergence—fewer iterations = fewer tokens = higher reward.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"sDUacFukUV"}],"key":"omvjYufMOK"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"This separation ensures that failing a hard constraint is not a “low reward” but a rejection—the agent must retry until constraints pass. The soft rewards then guide toward optimal solutions among valid candidates.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"WqOMdH1Bvx"}],"key":"achYazyYFp"},{"type":"heading","depth":3,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Hyperparameters","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"g7sLciNC9O"}],"identifier":"hyperparameters","label":"Hyperparameters","html_id":"hyperparameters","implicit":true,"key":"KwtCI8wynj"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Beyond model choice, key hyperparameters affect convergence:","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"sX0XiIzH8k"}],"key":"zWL0x9EqnK"},{"type":"table","position":{"start":{"line":115,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"zxP6fkp6AK"}],"key":"xunHOkkFYv"},{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Default","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"plBE3DIuSo"}],"key":"IWked1UKzL"},{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"LlXR92p2fl"}],"key":"YxIxpt30Eh"}],"key":"xYIueaIG9M"},{"type":"tableRow","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Max iterations","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"HRJ8Qv7I8U"}],"key":"JSGVAcMNEM"},{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"anflKoiGOm"}],"key":"rKyQxB8BNK"},{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Hard cap on encode-validate cycles","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"M5tFfkmAMk"}],"key":"FMmOCe6kFX"}],"key":"e2MdReX0Yj"},{"type":"tableRow","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"Target accuracy","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"R5W6yCdzbY"}],"key":"Vwj92ZOZ46"},{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"0.95","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"i7l755lXrw"}],"key":"ajxzjDXAq5"},{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"Early stop if achieved","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"vdL0EdpzTu"}],"key":"UQV8cePfl8"}],"key":"T0XTwBakXu"},{"type":"tableRow","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Batch size","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"JARz3TqDyf"}],"key":"vDn5mv8DFh"},{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"50","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"B0DjypGb9d"}],"key":"vehTJvP6PT"},{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Test cases per validation round","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"WGC45ph8FG"}],"key":"PXEuEeRIxr"}],"key":"DoZiaj2WKa"},{"type":"tableRow","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Feedback limit","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"jlDCEC8YD5"}],"key":"CIaS9HM5T3"},{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"BvIVAOLsTV"}],"key":"ziJN25gGlR"},{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Max failing cases shown to agent","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"O2vUnRiOAG"}],"key":"qw25srhraC"}],"key":"wStEo9tk4U"},{"type":"tableRow","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Temperature","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"xId6p2Poh7"}],"key":"vrBDYHDQNi"},{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"0.0","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"D5bRVXQNyY"}],"key":"b3KJDnKcjU"},{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Deterministic generation","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"d65KdFL3fD"}],"key":"NfDzXIEnU6"}],"key":"E1O4g67AAi"}],"key":"IyCSTk8Gr0"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"strong","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Batch size","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"Sutg41gKae"}],"key":"x9D8FCX4Lc"},{"type":"text","value":" trades off signal vs. cost: larger batches catch more errors per iteration but increase API calls. We found 50 cases per round balances convergence speed with cost, increasing to 200 for aggregate microsim validation.","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"lnzPnrv3st"}],"key":"vzgKzdEHxD"},{"type":"paragraph","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"strong","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Feedback limit","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"lAYXdONMJL"}],"key":"RWejwQbx2l"},{"type":"text","value":" prevents prompt overflow—showing 10 representative failures is sufficient for diagnosis.","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"YqQsUnVJnR"}],"key":"On6OEw3RwX"},{"type":"heading","depth":3,"position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Test Case Generation","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"YA7ZAh4Gxy"}],"identifier":"test-case-generation","label":"Test Case Generation","html_id":"test-case-generation","implicit":true,"key":"S2o13xs10r"},{"type":"paragraph","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"For each provision, we generate test cases covering:","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"P1hGS72P6w"}],"key":"lqG2G4MVLs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":130,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Income distribution (log-uniform from ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"sYL7Rx0wdm"},{"type":"inlineMath","value":"0 to ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mi>t</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">0 to </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">o</span></span></span></span>","key":"b3lzIyFBkM"},{"type":"text","value":"1M)","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"tquudzdGxY"}],"key":"zCjK6AwBnz"}],"key":"MND2UcXsdG"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Family structures (0-4 children, various filing statuses)","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"QgApm5JNRa"}],"key":"mvl3D6hK5h"}],"key":"nQxLIGsBSF"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Boundary values (exactly at thresholds)","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"ofTfwdh0a0"}],"key":"b1Vl8Ph6zj"}],"key":"GjdBoThDMv"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (zero income, maximum values)","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"kE8MVYAujO"}],"key":"fTpOkJSv6n"}],"key":"aS1nmUTDrC"}],"key":"oAOnuFcEo2"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"Typical test suite: 100-500 cases per provision.","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"zY5703dPs3"}],"key":"S8NXrrRl3Q"},{"type":"heading","depth":2,"position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"Pilot Phase Learnings","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"zvPj0i1QJB"}],"identifier":"pilot-phase-learnings","label":"Pilot Phase Learnings","html_id":"pilot-phase-learnings","implicit":true,"key":"efawoUnj1B"},{"type":"paragraph","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Before the formal experiment, we conducted pilot encoding runs on select provisions to validate our infrastructure and refine the experimental design. These runs are not included in the main results but informed key methodological choices.","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"oAgCsLGqmO"}],"key":"NnmP2evJ9w"},{"type":"heading","depth":3,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Key Discovery: Phase-In vs Phase-Out Rate Confusion","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"iLU9UCMn8p"}],"identifier":"key-discovery-phase-in-vs-phase-out-rate-confusion","label":"Key Discovery: Phase-In vs Phase-Out Rate Confusion","html_id":"key-discovery-phase-in-vs-phase-out-rate-confusion","implicit":true,"key":"OxvvGnacTl"},{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"During pilot encoding of the Earned Income Tax Credit, we discovered a subtle bug pattern. The EITC has ","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"JEbixnMGvf"},{"type":"strong","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"different rates","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"lCpL2mLnVq"}],"key":"en7zy1I6Er"},{"type":"text","value":" for phase-in (34% for 1 child) and phase-out (15.98% for 1 child), but the agent initially used the phase-out rate for both regions—producing a systematic $9.2B aggregate underestimate vs PolicyEngine.","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"A53P1Hwslw"}],"key":"yzudRpM2EE"},{"type":"paragraph","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"This error was only caught by ","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"VcujWVvo23"},{"type":"strong","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"record-by-record comparison","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"liR8rXDlwJ"}],"key":"qEBNGlWsBW"},{"type":"text","value":" across the full CPS microdata (200K+ records), not by unit test cases. The fix was straightforward once identified:","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"HDsaAb0A86"}],"key":"XsCtWadX2d"},{"type":"code","lang":"diff","value":"- phase_in_credit = earned_income * phaseout_rate  # WRONG\n+ phase_in_credit = earned_income * phase_in_rate  # CORRECT","position":{"start":{"line":147,"column":1},"end":{"line":150,"column":1}},"key":"sxFnyzwToF"},{"type":"paragraph","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"strong","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Implications for experiment design:","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"BcaYQMQZt5"}],"key":"IrAUabTuXL"}],"key":"AU6dNBUHXy"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":153,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Validation must include aggregate microsimulation, not just unit tests","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"RsWvI9szJ7"}],"key":"Iv1US3XJcY"}],"key":"C4wrevuhNz"},{"type":"listItem","spread":true,"position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Parameters with similar names (phase_in_rate vs phaseout_rate) are high-confusion risk","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"norKll8W2K"}],"key":"T5y0rrK1Io"}],"key":"eqB6lPFi4a"},{"type":"listItem","spread":true,"position":{"start":{"line":155,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The agent benefits from explicit rate derivation checks in feedback","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"alBaKHXlS0"}],"key":"nwfTJt1mSk"}],"key":"M1lJ7GRpcV"}],"key":"pI6tIDABqt"},{"type":"heading","depth":3,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Infrastructure Validated","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"R02gBR9Usc"}],"identifier":"infrastructure-validated","label":"Infrastructure Validated","html_id":"infrastructure-validated","implicit":true,"key":"b1gEAHA47L"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":159,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"Encoder RL loop","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"ja4xPhSYuf"}],"key":"LS5LcpRJIJ"},{"type":"text","value":": Converged to 100% accuracy on standard deduction within 3 iterations","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"T6BZZ4M4zi"}],"key":"Cwg8QFLf5f"}],"key":"c7TfzlZsW2"},{"type":"listItem","spread":true,"position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Validator integration","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"aQa9cXSNMd"}],"key":"eoKGbH0TOx"},{"type":"text","value":": PolicyEngine API successfully returns test case results","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"E0TpT8bVmL"}],"key":"WiiIqlA41G"}],"key":"Ipst1IAwoG"},{"type":"listItem","spread":true,"position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"No-hardcodes linter","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"C0Ir1YHmaj"}],"key":"jQ8zzLauJe"},{"type":"text","value":": Correctly rejects formulas like ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"YuAcnRhS7a"},{"type":"inlineCode","value":"if age >= 65","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"HLxsVbhItx"},{"type":"text","value":" (must use parameters)","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"ys9nc8VwnW"}],"key":"G2iIxekJ7j"}],"key":"LUjNTlwWcV"},{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"Experiment tracking","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"V9CpPWKfEd"}],"key":"l4DLgUMWIs"},{"type":"text","value":": Run metadata saved to ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"EojXA2kI1b"},{"type":"inlineCode","value":"optimization/runs/","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"T2dwhYpQky"}],"key":"vCTZDxTHnm"}],"key":"bpsQL909LV"}],"key":"HR99LRGmf9"},{"type":"heading","depth":2,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Provision Selection","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"iW05fuA2ik"}],"identifier":"provision-selection","label":"Provision Selection","html_id":"provision-selection","implicit":true,"key":"sOb1R9Xr1N"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"We encode 15 provisions from the Internal Revenue Code, stratified by complexity:","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"cQckNDX0C9"}],"key":"o20G1iCrDk"},{"type":"table","position":{"start":{"line":168,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Phase","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"YP2KH0QvmX"}],"key":"Yr1A406vWu"},{"type":"tableCell","header":true,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Provisions","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"v6qvvGDPSO"}],"key":"xPG2Rll4vU"},{"type":"tableCell","header":true,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Complexity","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"X9rbyYBhDU"}],"key":"mwBAAwqnzd"},{"type":"tableCell","header":true,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Examples","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"mtKZCPkDfb"}],"key":"pGbVmAEEHY"}],"key":"PhMBAKJY7Q"},{"type":"tableRow","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"1","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"T8fqS6QyMZ"}],"key":"UclH3nXKdF"},{"type":"tableCell","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"jq3VSsaNSv"}],"key":"t4omETvabZ"},{"type":"tableCell","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Simple (1-3)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"Ynquefad8X"}],"key":"Ks1JISy9p1"},{"type":"tableCell","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"EITC phase-in, Standard deduction","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"cQvaem0GdU"}],"key":"Ra1vZKrAeu"}],"key":"h2nfiqIT4r"},{"type":"tableRow","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"U1iN07EsTR"}],"key":"VQUKBytH4D"},{"type":"tableCell","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"fn1FJgp19m"}],"key":"CdufEdaQLh"},{"type":"tableCell","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"Medium (4-6)","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"XzqYt2Yx34"}],"key":"S3HlxOIkDP"},{"type":"tableCell","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"Full EITC, Child care credit","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"DVoaVJnT6O"}],"key":"NWuU4LRvfr"}],"key":"YGVbbF1PYk"},{"type":"tableRow","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"3","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"qBIPcfNlaq"}],"key":"aHvujyyiNA"},{"type":"tableCell","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"rAFVQtJhWl"}],"key":"VJKyReb53e"},{"type":"tableCell","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Complex (7+)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"LWml6827X3"}],"key":"hvaaSRX6il"},{"type":"tableCell","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"AMT, NIIT, QBI deduction","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"uiU1i1jbSh"}],"key":"H9PAo5Po7h"}],"key":"hRLSSmXVx7"}],"key":"YWgXWL8RKO"},{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Complexity score = conditionals + parameters + references + 2×nesting","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"l0dcOKG25n"}],"key":"tZbFcewxZx"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"Metrics","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"cYwLiN8pub"}],"identifier":"metrics","label":"Metrics","html_id":"metrics","implicit":true,"key":"gtqQV2qxrz"},{"type":"paragraph","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"strong","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"Primary:","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"kXSKEhSs5R"}],"key":"MoAEnkujzJ"}],"key":"xs0wIdx5Sx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":179,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Accuracy","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"LedsJpLN0X"}],"key":"ZbqEDrIwCK"},{"type":"text","value":": Proportion of test cases passing (within $1 tolerance)","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"c4eIxk2Qo7"}],"key":"qzFFzCdwey"}],"key":"pTz23RUFyK"},{"type":"listItem","spread":true,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"Iterations","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"MvzwdQ33Cn"}],"key":"rRscdSKcV9"},{"type":"text","value":": Generate-test cycles to reach 95%","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"ltLGoBYfeO"}],"key":"hSV3QYeQTA"}],"key":"G5MSOqVVej"},{"type":"listItem","spread":true,"position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Tokens","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"v7yrc83R3W"}],"key":"ehkfhgoHbt"},{"type":"text","value":": API usage (input + output)","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"pSe4w7oxDo"}],"key":"zPICZ2MhZL"}],"key":"aUD04NxsJu"},{"type":"listItem","spread":true,"position":{"start":{"line":182,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"Cost","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"RpWvMWzKOb"}],"key":"VkiV7JCiQF"},{"type":"text","value":": Tokens × rate (","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"RWJgB4K22j"},{"type":"inlineMath","value":"3/M input, ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi mathvariant=\"normal\">/</mi><mi>M</mi><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">3/M input, </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mpunct\">,</span></span></span></span>","key":"vOWer6uCEQ"},{"type":"text","value":"15/M output for Sonnet)","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"toa2gZ6I7G"}],"key":"WUvvf8bya2"}],"key":"vF9mRopgDS"}],"key":"hDSAABL3zt"},{"type":"paragraph","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"strong","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"Secondary:","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"QJzcUymIqM"}],"key":"OEs1jNxm5G"}],"key":"qAbJjSzhEI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":185,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Time to convergence","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"ChO2px4Io3"}],"key":"XHTd5z9Ula"}],"key":"cdqEj7q5nB"},{"type":"listItem","spread":true,"position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Error type distribution","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"DcWefuy6uq"}],"key":"EU5tu4DG86"}],"key":"VJOtghXHkr"},{"type":"listItem","spread":true,"position":{"start":{"line":187,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Human interventions required","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"BK1GXKNl5C"}],"key":"dLPPiSCNgX"}],"key":"DSjQGd61J1"}],"key":"Ara5anl7vF"},{"type":"heading","depth":2,"position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"text","value":"Analysis Plan","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"dzEuJpu3n1"}],"identifier":"analysis-plan","label":"Analysis Plan","html_id":"analysis-plan","implicit":true,"key":"jLDOBg6iFT"},{"type":"paragraph","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"All hypotheses preregistered (see Appendix A):","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"LKoaTo5EFN"}],"key":"V6GLaV8nol"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":193,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"H1 (Convergence)","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"MzFVieRP5b"}],"key":"UvPGEssqXw"},{"type":"text","value":": Bootstrap CI for convergence rate","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"z2twnv8RmO"}],"key":"FsTt5OWlMI"}],"key":"FEg61sqVkt"},{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"H2 (Complexity)","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"cY3Lxg5n86"}],"key":"YVeypRvabq"},{"type":"text","value":": Regression of iterations on complexity score","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"khauA8Ay4f"}],"key":"GhLKYjmU3R"}],"key":"s4VBwO4Rby"},{"type":"listItem","spread":true,"position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"H3 (Transfer)","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"xXBpOHZtDb"}],"key":"gn6gdi8NqL"},{"type":"text","value":": Paired comparison of early vs. late provisions","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"TN28CwHNBr"}],"key":"cvz2VRFMxb"}],"key":"XW5tnB3Spp"},{"type":"listItem","spread":true,"position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"H4 (Cost)","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"IIYBl9yjiw"}],"key":"mxghsFfNMo"},{"type":"text","value":": Trend analysis and comparison to manual estimates","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"JBckvEeE9D"}],"key":"m3UxM7reA7"}],"key":"CwAlSJCO4v"},{"type":"listItem","spread":true,"position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"H5 (Failures)","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"JYgiHz1wDr"}],"key":"p7vp7H7nho"},{"type":"text","value":": Chi-square test for failure category distribution","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"kGNsWynHpc"}],"key":"Gk3sWiHMTy"}],"key":"It4GemyRTX"}],"key":"qUhe9BuiMv"}],"key":"AiC9JEXRWu"}],"key":"oRcTC8KWvf"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Introduction","url":"/introduction","group":"Paper"},"next":{"title":"Results","url":"/results","group":"Paper"}}},"domain":"http://localhost:3001"}